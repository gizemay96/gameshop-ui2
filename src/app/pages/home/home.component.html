<div class="home-page">
  <div class="">
    <!-- Tabs -->
    <div class="tab-list">
      <ul class="tabs nav">
        <span *ngFor="let category of categories">
          <li [ngClass]="activeTab === category.id || (activeTab === '' && category.id === '') ? 'active' : ''"
            class="nav-item" (click)="changeTab(category.id);">
            <a class="nav-link">{{ 'product-tabs.' + category.translateKey | translate }}</a>
          </li>
        </span>
      </ul>
    </div>
  </div>
  <!-- Vertical Line -->
  <div *ngIf="!loading" class="vertical-line full-width"></div>
  <mat-progress-bar *ngIf="loading" class="full-width" mode="indeterminate"></mat-progress-bar>

  <div class="product-list">
    <!-- Product List -->
    <div class=" d-flex align-items-center row gx-5" *ngIf="(!loading && activeTab !== 'news'); else newsListElement">
      <div class="list-item col-lg-3 col-sm-6 mb-5" *ngFor="let product of products">
        <img class="list-item-img" [src]="product.image" alt="" (click)="openProductDetail(product)">
        <div class="list-item-footer">
          <div class="price-add">
            <div class="price">$ {{product.price}}</div>
            <div [class.disabled]="!user.id" class="add-button" (click)="addToCart(product)">{{'product-detail.add-cart'
              | translate}} <span><img class="icon" src="../../../assets/icons/cart.png" alt=""></span></div>
            <img style="display: none;" [src]="product.imageLogo" alt="">
          </div>
        </div>
      </div>
    </div>

    <!-- News List -->
    <ng-template class="news" #newsListElement>
      <span class=" d-flex align-items-center row gx-5" *ngIf="!loading">
        <div class="list-item col-xl-3 col-lg-4 col-md-6 col-sm-12 mb-5" *ngFor="let item of news">
          <div class="news-image-case">
            <img class="news-img" [src]="item.image">
            <div class="news-title">{{item.title}}</div>
            <div class="news-description">{{item.description}}</div>
          </div>
          <div class="list-item-footer">
            <div class="price-add">
              <a [href]="item.url" target="_blank">
                <div [class.disabled]="!user.id" class="add-button">
                  {{'game-news.read-more' | translate}}
                </div>
              </a>
              <img style="display: none;" [src]="item.imageLogo" alt="">
            </div>
          </div>
        </div>
      </span>
    </ng-template>

  </div>

  <!-- Sketlon -->
  <div class="sketlon" *ngIf="loading">
    <div class="item row gx-5 text-center" *ngFor="let list of [1,2,3]">
      <app-sketlon style="height: 350px;margin: 15px 0;" class="col-lg-3 col-sm-6 mb-5 sketlon-img"
        *ngFor="let list of [1,2,3,4]"></app-sketlon>
    </div>
  </div>

  <!-- Load More Progress -->
  <div *ngIf="loadMoreProgress" class="loader flex-xy-center">
    <img style="width: 120px;" src="../../../assets/img/loader.gif" alt="">
  </div>

  <!-- Infınıte Scroll -->
  <div class="search-results" infiniteScroll [infiniteScrollDistance]="1" [infiniteScrollThrottle]="200"
    (scrolled)="!loadMoreProgress ? loadMore() : null"></div>

</div>